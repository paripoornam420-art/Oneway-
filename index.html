  <!doctype html>
  <html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>DropTaxi Tamilnadu ‚Äî Oneway & Outstation Taxi</title>
    <meta name="description" content="DropTaxi Tamilnadu ‚Äî Drop Taxi, Oneway Taxi and Outstation cabs all major cities in Tamil Nadu. Transparent per km fares. WhatsApp booking: 8110000796." />
    <link rel="canonical" href="https://drop1taxi.netlify.app/" />
  
    <!-- Preconnect -->
    <link rel="preconnect" href="https://maps.googleapis.com" crossorigin>
  
    <style>
      :root{
        --yellow:#FFD000;
        --black:#111;
        --muted:#666;
        --accent:#0b6b3a;
        --green:#1a9a48;
        --bg:#f5f6f8;
      }
      *{box-sizing:border-box;}
      body{
        margin:0;
        font-family:-apple-system,BlinkMacSystemFont,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
        background:var(--bg);
        color:var(--black);
        line-height:1.5;
      }
      a{text-decoration:none;color:inherit;}
  
      /* HEADER */
      header{
        position:sticky;
        top:0;
        z-index:50;
        background:#fff;
        border-bottom:1px solid #eee;
      }
      .header-inner{
        max-width:1100px;
        margin:0 auto;
        padding:8px 16px;
        display:flex;
        align-items:center;
        justify-content:space-between;
        gap:12px;
      }
      .header-left{
        display:flex;
        align-items:center;
        gap:10px;
      }
      .menu-btn{
        border:0;
        background:none;
        font-size:26px;
        cursor:pointer;
      }
      .logo-wrap img{
        height:44px;
        display:block;
      }
      .call-btn{
        display:inline-flex;
        align-items:center;
        gap:6px;
        padding:10px 14px;
        border-radius:10px;
        background:var(--yellow);
        color:#111;
        font-weight:800;
        border:1px solid rgba(0,0,0,0.05);
        white-space:nowrap;
      }
  
      /* MOBILE NAV */
      .nav-drawer-backdrop{
        position:fixed;
        inset:0;
        background:rgba(0,0,0,0.4);
        opacity:0;
        pointer-events:none;
        transition:opacity .2s ease;
        z-index:80;
      }
      .nav-drawer{
        position:fixed;
        top:0;
        left:0;
        width:260px;
        height:100vh;
        background:#fff;
        box-shadow:2px 0 10px rgba(0,0,0,0.15);
        transform:translateX(-100%);
        transition:transform .22s ease;
        z-index:90;
        display:flex;
        flex-direction:column;
      }
      .nav-drawer-header{
        padding:14px 16px;
        border-bottom:1px solid #eee;
        font-weight:700;
        display:flex;
        align-items:center;
        justify-content:space-between;
      }
      .nav-drawer a{
        display:block;
        padding:10px 18px;
        border-bottom:1px solid #f3f3f3;
        color:#222;
        font-size:15px;
      }
      .nav-drawer a:hover{
        background:#f7f7f7;
      }
      .nav-open .nav-drawer-backdrop{
        opacity:1;
        pointer-events:auto;
      }
      .nav-open .nav-drawer{
        transform:translateX(0);
      }
  
      /* LAYOUT */
      .container{
        max-width:1100px;
        margin:20px auto 40px;
        padding:0 16px 24px;
      }
  
      /* HERO LOGO */
      .hero-logo-wrap{
        background:#fff;
        border-radius:14px;
        padding:14px 12px;
        margin-bottom:16px;
        box-shadow:0 6px 20px rgba(0,0,0,0.06);
        text-align:center;
      }
      .hero-logo-wrap img{
        max-width:280px;
        width:100%;
        height:auto;
        display:block;
        margin:0 auto;
      }
  
      /* HERO CARD + FORM */
      .hero-card{
        background:#fff;
        border-radius:18px;
        padding:18px 18px 22px;
        box-shadow:0 10px 30px rgba(0,0,0,0.06);
        margin-bottom:20px;
      }
      .hero-card h1{
        margin:0 0 8px;
        font-size:22px;
        font-weight:800;
      }
      .hero-sub{
        margin:0 0 16px;
        color:var(--muted);
        font-size:14px;
      }
  
      .trip-buttons{
        display:flex;
        gap:10px;
        margin-bottom:14px;
      }
      .trip-buttons button{
        flex:1;
        padding:11px 10px;
        border-radius:10px;
        border:1px solid #ddd;
        background:#fff;
        font-weight:700;
        cursor:pointer;
        font-size:15px;
      }
      .trip-buttons button.active{
        background:var(--yellow);
        border-color:var(--yellow);
      }
  
      .field{
        display:flex;
        flex-direction:column;
        margin-bottom:12px;
      }
      label{
        font-size:13px;
        color:#555;
        margin-bottom:5px;
      }
      input, select{
        padding:11px 11px;
        border-radius:9px;
        border:1px solid #ccc;
        font-size:15px;
        width:100%;
      }
      .row-2{
        display:flex;
        gap:10px;
      }
      .row-2 .field{flex:1;}
  
      .geo-btn,
      .estimate-btn{
        width:100%;
        border:none;
        border-radius:10px;
        padding:13px 12px;
        font-weight:800;
        font-size:16px;
        cursor:pointer;
        background:var(--green);
        color:#fff;
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:8px;
        box-shadow:0 8px 18px rgba(0,0,0,0.12);
      }
      .geo-btn[aria-busy="true"]{
        opacity:.85;
        cursor:wait;
      }
      .estimate-btn{margin-top:12px;}
      .geo-icon{font-size:17px;}
  
      /* Blinking effect for "Searching for location..." */
      .searching-location{
        animation: blink 1s linear infinite;
        color:#6b7280;
        font-style:italic;
      }
      @keyframes blink{
        0%,100%{opacity:1;}
        50%{opacity:0.35;}
      }
  
      /* ===== PREMIUM FARE ESTIMATE ‚Äì CENTER MODEL (UPDATED) ===== */
      .fare-premium-wrap{
        margin-top:20px;
        display:flex;
        justify-content:center;
        padding:0 8px;
      }
  
      .fare-premium{
        width:100%;
        max-width:480px;
        border-radius:26px;
        padding:20px;
        background:
          radial-gradient(circle at top left,rgba(22,163,74,0.22),transparent 55%),
          linear-gradient(145deg,#ffffff,#f4f6fb);
        box-shadow:0 18px 40px rgba(15,23,42,0.11);
        font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Arial;
        animation:fadeUp .35s ease-out;
        position:relative;
        overflow:hidden;
        display:none; /* HIDDEN INITIALLY, will show after Estimate */
      }
  
      @keyframes fadeUp{
        from{opacity:0;transform:translateY(10px);}
        to{opacity:1;transform:translateY(0);}
      }
  
      .fare-premium::after{
        content:"";
        position:absolute;
        width:230px;height:230px;
        border-radius:999px;
        background:radial-gradient(circle,rgba(34,197,94,0.28),transparent 70%);
        bottom:-130px;right:-90px;
      }
  
      .fare-route-main{
        font-size:18px;
        font-weight:800;
        color:#0a0a0a;
        margin-bottom:14px;
        text-align:center;
      }
  
      .fare-main-amount{
        font-size:30px;
        font-weight:900;
        color:#064e3b;
        text-align:center;
        line-height:1.2;
      }
      .fare-main-amount span{
        font-size:inherit;
        font-weight:inherit;
      }
  
      .fare-main-caption{
        font-size:14px;
        font-weight:700;
        color:#555;
        margin-top:6px;
        text-align:center;
      }
  
      .fare-note-prem{
        margin-top:8px;
        font-size:12px;
        color:#666;
        text-align:center;
      }
  
      /* Breakdown Toggle */
      .fare-break-prem-head{
        margin-top:16px;
        padding:8px 0;
        border-top:1px dashed #d1d5db;
        border-bottom:1px dashed #d1d5db;
        font-size:13px;
        font-weight:600;
        cursor:pointer;
        display:flex;
        justify-content:space-between;
        align-items:center;
      }
      .fare-break-arrow{
        width:22px;height:22px;border-radius:50%;
        border:1px solid #9ca3af;
        display:flex;align-items:center;justify-content:center;
        transition:.25s ease;
      }
      .fare-break-arrow.rotate{
        transform:rotate(90deg);
        background:#16a34a;
        color:#fff;
        border-color:#16a34a;
      }
      .fare-break-body{
        overflow:hidden;
        max-height:0;
        transition:max-height .25s ease;
        font-size:12px;
        color:#444;
      }
      .fare-break-body.open{max-height:230px;}
  
      .fare-break-list{list-style:none;padding:0;margin:8px 0 5px;}
      .fare-break-list li{
        display:flex;justify-content:space-between;
        margin-bottom:4px;
      }
      .fare-break-total{
        margin-top:4px;
        display:flex;justify-content:space-between;
        font-weight:700;
      }
  
      .fare-actions-prem{
        margin-top:16px;
      }
      .btn-prem{
        width:100%;
        border-radius:999px;
        padding:12px 0;
        border:none;
        font-size:14px;
        font-weight:700;
        cursor:pointer;
        background:#0d9246;
        color:white;
      }
  
      /* WHY CHOOSE */
      .why-card{
        background:#fff;
        border-radius:18px;
        padding:18px 18px 20px;
        box-shadow:0 8px 22px rgba(0,0,0,0.06);
        margin-bottom:22px;
      }
      .why-card h2{
        margin:0 0 10px;
        font-size:20px;
      }
      .why-card ul{
        padding-left:20px;
        margin:8px 0 0;
        color:#444;
        font-size:14px;
      }
  
      /* FOOTER */
      footer{
        background:#0b6b3a;
        color:#fff;
        padding:18px 16px 22px;
        font-size:13px;
      }
      .footer-inner{
        max-width:1100px;
        margin:0 auto;
        display:flex;
        flex-wrap:wrap;
        gap:10px;
        align-items:center;
        justify-content:space-between;
      }
      footer a{color:#fff;text-decoration:underline;}
  
      /* FLOATING BUTTONS */
      .fab-wrap{
        position:fixed;
        right:16px;
        bottom:18px;
        display:flex;
        flex-direction:column;
        gap:10px;
        z-index:70;
        align-items:flex-end;
      }
      .fab-btn{
        border:none;
        border-radius:999px;
        padding:10px 15px;
        font-weight:800;
        font-size:14px;
        cursor:pointer;
        display:inline-flex;
        align-items:center;
        gap:6px;
        box-shadow:0 8px 20px rgba(0,0,0,0.25);
      }
      .fab-wa{
        background:linear-gradient(180deg,#25D366,#128C7E);
        color:#fff;
      }
      .fab-call{
        background:var(--yellow);
        color:#111;
      }
  
      /* TOAST */
      #wa-toast{
        position:fixed;
        left:50%;
        bottom:22px;
        transform:translateX(-50%);
        background:rgba(0,0,0,0.88);
        color:#fff;
        padding:8px 13px;
        border-radius:999px;
        font-size:13px;
        opacity:0;
        pointer-events:none;
        transition:opacity .18s ease;
        z-index:120;
        max-width:90%;
        text-align:center;
      }
  
      /* Make Google Places suggestions visible on top */
      .pac-container{
        z-index:9999 !important;
      }
  
      @media (max-width:720px){
        .hero-card h1{font-size:20px;}
        .fare-main-amount{font-size:26px;}
        .fare-premium{
          padding:16px 14px 18px;
          border-radius:20px;
        }
        .fare-route-main{font-size:16px;}
      }
    </style>
  </head>
  <body>
  <header>
    <div class="header-inner">
      <div class="header-left">
        <button id="menuBtn" class="menu-btn" aria-label="Menu">‚ò∞</button>
        <div class="logo-wrap">
          <a href="index.html">
            <img src="/assets/droptaxi-logo.png" alt="DropTaxi Tamilnadu Logo">
          </a>
        </div>
      </div>
      <a class="call-btn" href="tel:8110000796">
        üìû 8110000796
      </a>
    </div>
  </header>
  
  <!-- Nav drawer -->
  <div id="navBackdrop" class="nav-drawer-backdrop"></div>
  <nav id="navDrawer" class="nav-drawer" aria-hidden="true">
    <div class="nav-drawer-header">
      <span>Menu</span>
      <button id="navClose" class="menu-btn" aria-label="Close menu">‚úï</button>
    </div>
    <a href="index.html">üè† Home</a>
    <a href="service-cities.html">üìç Service Cities</a>
    <a href="thoothukudi-drop-taxi.html">üöï Thoothukudi Drop Taxi</a>
    <a href="about-us.html">‚ÑπÔ∏è About Us</a>
    <a href="privacy-policy.html">üîí Privacy Policy</a>
    <a href="terms-and-conditions.html">üìÑ Terms &amp; Conditions</a>
    <a href="cancellation-policy.html">‚ùå Cancellation Policy</a>
    <a href="luggage-policy.html">üß≥ Luggage Policy</a>
  </nav>
  
  <main class="container">
    <!-- Hero logo -->
    <section class="hero-logo-wrap">
      <img src="/assets/droptaxi-logo.png" alt="DropTaxi Tamilnadu">
    </section>
  
    <!-- Booking card -->
    <section class="hero-card" id="bookingFormCard">
      <h1>DropTaxi Tamilnadu ‚Äî Oneway &amp; Outstation Cabs at Best Price</h1>
      <p class="hero-sub">
        Book safe and reliable <strong>Drop Taxi, Oneway Taxi and Outstation Cabs</strong> across Tamil Nadu.
        Get Instant fare estimate and Book Your Ride.
      </p>
  
      <!-- Trip type -->
      <div class="trip-buttons" role="tablist" aria-label="Trip type">
        <button id="onewayBtn" class="active" role="tab" aria-selected="true">Oneway</button>
        <button id="roundBtn" role="tab" aria-selected="false">Round Trip</button>
        <input type="hidden" id="tripType" value="Oneway">
      </div>
  
      <!-- Form -->
      <form id="bookingForm" novalidate>
        <div class="field">
          <label for="pickup">Pickup Location</label>
          <input id="pickup" name="pickup" type="text"
                 placeholder="Enter pickup location (e.g., Madurai, Chennai, Airport)"
                 autocomplete="off" required />
        </div>
  
        <div class="field">
          <button id="useLocationBtn" type="button" class="geo-btn" aria-busy="false">
            <span class="geo-icon">üìç</span>
            <span>Use My Current Location</span>
          </button>
        </div>
  
        <div class="field">
          <label for="drop">Drop Location</label>
          <input id="drop" name="drop" type="text"
                 placeholder="Enter drop location" autocomplete="off" required />
        </div>
  
        <div class="row-2">
          <div class="field">
            <label for="date">Date</label>
            <input id="date" name="date" type="date" required />
          </div>
          <div class="field">
            <label for="time">Time</label>
            <input id="time" name="time" type="time" required />
          </div>
        </div>
  
        <div id="returnRow" class="field" style="display:none;">
          <label for="returnDate">Return Date (for Round Trip)</label>
          <input id="returnDate" name="returnDate" type="date" />
        </div>
  
        <div class="field">
          <label for="car">Car Type</label>
          <select id="car" name="car">
            <option value="hatchback">Hatchback</option>
            <option value="sedan" selected>Sedan</option>
            <option value="innova">Innova / MPV</option>
            <option value="suv">SUV</option>
          </select>
        </div>
  
        <div class="field">
          <label for="phone">Contact Number</label>
          <input id="phone" name="phone" type="tel"
                 placeholder="Enter your mobile number"
                 inputmode="tel"
                 pattern="[\d\+\-\s()]{10,20}"
                 required />
        </div>
  
        <button id="estimateBtn" type="button" class="estimate-btn">
          Estimate
        </button>
  
        <!-- ===== PREMIUM FARE ESTIMATE ‚Äì CENTER MODEL (UPDATED) ===== -->
        <div class="fare-premium-wrap">
          <section class="fare-premium" id="farePremiumCard">
  
            <!-- Route text (dynamic) -->
            <div class="fare-route-main" id="routeTitle">
              Thoothukudi ‚Üí Madurai (Oneway)
            </div>
  
            <!-- Fare line: same font, same line -->
            <div class="fare-main-amount">
              ‚Çπ<span id="fareAmount">6,394</span>
              <span> / upto <span id="uptoKmDisplay">461 km</span></span>
            </div>
  
            <!-- Extra km line -->
            <div class="fare-main-caption">
              Extra Km : ‚Çπ<span id="extraKmFare">13</span> per km
            </div>
  
            <!-- Note -->
            <div class="fare-note-prem">
              Parking, Entrance Fees &amp; State Permit Only Extra
            </div>
  
            <!-- Breakdown area -->
            <div class="fare-break-prem-head" id="fareBreakToggle">
              Fare Breakdown
              <div class="fare-break-arrow" id="fareBreakArrow">‚Ä∫</div>
            </div>
  
            <div class="fare-break-body" id="fareBreakBody">
              <ul class="fare-break-list">
                <li><span>Distance</span><span id="bdKm">461 km</span></li>
                <li><span>Distance Fare</span><span id="distFare">‚Çπ5,994</span></li>
                <li><span>Driver Bata</span><span id="driverBata">‚Çπ400</span></li>
                <li><span>Toll &amp; Other Charges</span><span id="tollCharges">‚Çπ0</span></li>
              </ul>
              <div class="fare-break-total">
                <span>Total</span>
                <span id="totalFareSmall">‚Çπ6,394</span>
              </div>
            </div>
  
            <!-- Single Book Now button -->
            <div class="fare-actions-prem">
              <button class="btn-prem" type="button" onclick="bookNowPro()">Book Now</button>
            </div>
  
          </section>
        </div>
      </form>
    </section>
  
    <!-- Why choose section -->
    <section class="why-card">
      <h2>Why choose DropTaxi Tamilnadu?</h2>
      <ul>
        <li>Transparent per km fares</li>
        <li>Professional, experienced drivers</li>
        <li>Instant WhatsApp booking confirmation</li>
        <li>Service from Tamilnadu to all major TN cities</li>
      </ul>
    </section>
  </main>
  
  <footer>
    <div class="footer-inner">
      <div>
        <strong>DropTaxi Tamilnadu</strong><br>
        Since 2019 ‚Äî Drop Taxi, Oneway Taxi &amp; Tour Packages across Tamil Nadu.
      </div>
      <div>
        üìû Call: <a href="tel:8110000796">8110000796</a> &nbsp;|&nbsp;
        üí¨ WhatsApp: <a href="https://wa.me/918110000796" target="_blank" rel="noopener">Chat now</a>
      </div>
    </div>
  </footer>
  
  <div id="wa-toast" role="status" aria-live="polite"></div>
  
  <!-- Floating buttons -->
  <div class="fab-wrap">
    <button id="floatingWhatsApp" class="fab-btn fab-wa">üí¨ WhatsApp</button>
    <button id="floatingCall" class="fab-btn fab-call">
      üìû 8110000796
    </button>
  </div>
  
  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  
  <script>
    // ------------ CONFIG ------------
    const WA_NUMBER = "918110000796";
    const CALL_NUMBER = "tel:8110000796";
    const el = id => document.getElementById(id);
  
    // EmailJS config
    const EMAILJS_USER_ID     = "0Mkm8D6XNe1GjEmNX";
    const EMAILJS_SERVICE_ID  = "service_6bg52ca";
    const EMAILJS_TEMPLATE_ID = "template_j2edenu";
  
    if (window.emailjs) {
      emailjs.init(EMAILJS_USER_ID);
    }
  
    // Tariff data
    const TARIFFS = {
      Oneway: {
        hatchback: { rate: 13.00, bata: 400 },
        sedan:     { rate: 14.00, bata: 300 },
        suv:       { rate: 19.00, bata: 400 },
        innova:    { rate: 20.00, bata: 400 }
      },
           minimumKm: { Oneway: 130, "Round Trip": 250 } // per day for round trip
    };
  
    const HILL_KEYWORDS = ["ooty","kodaikanal","kodai","munnar","yercaud","valparai"];
  
    function fmtINR(n){
      return "‚Çπ" + Number(n).toLocaleString("en-IN", {
        maximumFractionDigits: (Number(n)%1===0?0:2)
      });
    }
  
    // ------------ MAPS / AUTOCOMPLETE ------------
    let gmapsReady=false, distanceService=null, geocoder=null, pickupAuto=null, dropAuto=null;
  
<script>
/* ---------------- MAP INIT CONTINUED ---------------- */
function initMaps(){
  try{
    pickupAuto = new google.maps.places.Autocomplete(el("pickup"), { types:["geocode"] });
    dropAuto   = new google.maps.places.Autocomplete(el("drop"),   { types:["geocode"] });

    distanceService = new google.maps.DistanceMatrixService();
    geocoder = new google.maps.Geocoder();
    gmapsReady = true;
  }catch(e){
    console.warn("Maps init failed", e);
    gmapsReady = false;
  }
}

/* ---------------- NAV DRAWER ---------------- */
const body = document.body;
el("menuBtn").onclick = () => body.classList.add("nav-open");
el("navClose").onclick = closeNav;
el("navBackdrop").onclick = closeNav;

function closeNav(){
  body.classList.remove("nav-open");
}

/* ---------------- TRIP TYPE ---------------- */
el("onewayBtn").onclick = () => setTrip("Oneway");
el("roundBtn").onclick  = () => setTrip("Round Trip");

function setTrip(type){
  el("tripType").value = type;
  el("onewayBtn").classList.toggle("active", type==="Oneway");
  el("roundBtn").classList.toggle("active", type==="Round Trip");
  el("returnRow").style.display = type==="Round Trip" ? "block" : "none";
}

/* ---------------- GEO LOCATION ---------------- */
el("useLocationBtn").onclick = () => {
  if(!navigator.geolocation) return alert("Geolocation not supported");
  el("useLocationBtn").setAttribute("aria-busy","true");
  navigator.geolocation.getCurrentPosition(pos=>{
    const latlng = {lat:pos.coords.latitude,lng:pos.coords.longitude};
    geocoder.geocode({location:latlng},(res)=>{
      if(res && res[0]) el("pickup").value = res[0].formatted_address;
      el("useLocationBtn").setAttribute("aria-busy","false");
    });
  });
};

/* ---------------- ESTIMATE ---------------- */
el("estimateBtn").onclick = estimateFare;

function estimateFare(){
  if(!gmapsReady) return alert("Google Maps not ready");

  const pickup = el("pickup").value.trim();
  const drop   = el("drop").value.trim();
  if(!pickup || !drop) return alert("Enter pickup & drop");

  distanceService.getDistanceMatrix({
    origins:[pickup],
    destinations:[drop],
    travelMode:"DRIVING"
  },res=>{
    const km = Math.ceil(res.rows[0].elements[0].distance.value / 1000);
    calculateFare(km);
  });
}

function calculateFare(km){
  const trip = el("tripType").value;
  const car  = el("car").value;
  const tariff = TARIFFS[trip][car];
  const minKm  = TARIFFS.minimumKm[trip];
  const billKm = Math.max(km, minKm);

  const distFare = billKm * tariff.rate;
  const total = distFare + tariff.bata;

  el("routeTitle").innerText =
    `${el("pickup").value} ‚Üí ${el("drop").value} (${trip})`;

  el("fareAmount").innerText = total.toLocaleString("en-IN");
  el("uptoKmDisplay").innerText = billKm + " km";
  el("extraKmFare").innerText = tariff.rate;
  el("bdKm").innerText = billKm + " km";
  el("distFare").innerText = fmtINR(distFare);
  el("driverBata").innerText = fmtINR(tariff.bata);
  el("totalFareSmall").innerText = fmtINR(total);

  el("farePremiumCard").style.display = "block";
  el("farePremiumCard").scrollIntoView({
  behavior: "smooth",
  block: "center"
});
}

/* ---------------- BREAKDOWN TOGGLE ---------------- */
el("fareBreakToggle").onclick = ()=>{
  el("fareBreakBody").classList.toggle("open");
  el("fareBreakArrow").classList.toggle("rotate");
};

/* ---------------- BOOK NOW ---------------- */
function bookNowPro(){
const bookingId = generateBookingID();

const msg =
`üöï *DropTaxi Booking*
üÜî Booking ID: ${bookingId}

Trip: ${el("tripType").value}
From: ${el("pickup").value}
To: ${el("drop").value}
Date: ${el("date").value} ${el("time").value}
Car: ${el("car").value}
Fare: ${el("totalFareSmall").innerText}
Phone: ${el("phone").value}`; =
`üöï *DropTaxi Booking*
Trip: ${el("tripType").value}
From: ${el("pickup").value}
To: ${el("drop").value}
Date: ${el("date").value} ${el("time").value}
Car: ${el("car").value}
Fare: ${el("totalFareSmall").innerText}
Phone: ${el("phone").value}`;

  window.open(`https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(msg)}`);
}

/* ---------------- FLOATING BUTTONS ---------------- */
el("floatingWhatsApp").onclick = ()=>window.open(`https://wa.me/${WA_NUMBER}`);
el("floatingCall").onclick = ()=>location.href = CALL_NUMBER;

/* ---------------- LOAD MAPS ---------------- */
const s = document.createElement("script");
s.src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyB79memjL-rc3k49TKKW8hauHoY1EUHrTM&libraries=places&callback=initMaps";
s.async = true;
document.head.appendChild(s);
<script>
const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyb50XEKPuIY1BOMVsQwIlcPuwdyTFajmtXwl8zYyiQsPJKMEZ8epmJN6pOrA0l5yEU/exec";

const el = id => document.getElementById(id);

function generateBookingId() {
  return "DT-" + Math.floor(100000 + Math.random() * 900000);
}

function bookNowPro() {

  const bookingId = generateBookingId();
  const tripTypeValue = el("tripType").value;

  const data = {
    bookingId: bookingId,
    tripType: tripTypeValue,
    pickup: el("pickup").value,
    drop: el("drop").value,
    date: el("date").value,
    time: el("time").value,
    returnDate: el("returnDate").value || "NA",
    totalDays: tripTypeValue === "Round Trip" ? "5" : "1",
    car: el("car").options[el("car").selectedIndex].text,
    km: el("uptoKmDisplay") ? el("uptoKmDisplay").innerText.replace(" km","") : "0",
    rate: el("extraKmFare") ? el("extraKmFare").innerText : "0",
    bata: el("driverBata") ? el("driverBata").innerText.replace("‚Çπ","") : "0",
    totalFare: el("fareAmount") ? el("fareAmount").innerText.replace(/,/g,"") : "0",
    phone: el("phone").value
  };

  fetch(GOOGLE_SCRIPT_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(() => {
    alert(
      "Booking Confirmed!\n\n" +
      "Booking ID: " + bookingId
    );
  })
  .catch(err => {
    alert("Booking failed. Please try again.");
    console.error(err);
  });
}
</script>
</body>
</html>
